<<<<<<< HEAD
### 接口文档地址

http://39.98.123.211:8170/swagger-ui.html

http://39.98.123.211:8216/swagger-ui.html

### 1、什么是后台管理系统？

在前面的课程中，我们已经开发了【尚品汇电商平台】，这个项目主要针对的是用户（客户），可以让用户在平台中购买产品。



前台项目当中的数据来源于卖家（公司），但是需要注意的是，卖家他不会数据库操作，对于卖家而言，需要吧产品的信息上传到服务器，写入数据库。



后台管理系统：可以让用户通过一个可视化工具实现对于数据库进行增删改查等操作。

而且需要注意，根据不同的角色（老板、员工），看到的、操作内容是不同的。



### 2、模板介绍

简洁版：https://github.com/PanJiaChen/vue-admin-template

加强版：https://github.com/PanJiaChen/vue-element-admin



```
build：
	---	index.js webpack配置文件【很少修改这个文件】。
	
mock：
	---	mock(模拟)数据的文件【模拟一些假的数据，mockjs实现的】，实际开发时使用的是真实的接口，故不用理会。
	
node_modules：
	---	项目依赖的文件
	
pubic：
	---	icon图标，静态页面，pubic文件夹会放置一些静态资源，而且项目在打包时webpack不会编译该文件夹中的内容，会原封不动的打包到dist文件中。
	
src：
	--- 程序员源代码的地方
	--- api文件夹：涉及到请求相关
	--- assess文件夹：里面放置一些静态资源（一般共享的），在webpack打包时会进行编译
	--- components文件夹：一般仿制的是非路由组件或全局组件
	--- icons文件夹：防止了一些svg矢量图
	--- layout文件夹：里面放置了一些组件与混入
	--- router文件夹：与路由相关
	--- store文件夹：与vuex相关
	--- style文件夹：与样式相关的
	--- utils文件夹：request.js是axios二次封装文件
	--- views文件夹：里面放置的是路由组件
	
App.vue：
	根组件
	
main.js：
	入口文件
	
permission.js：
	与导航守卫相关
	
settings.js：
	详谬的配置项目文件

```



### 3、完成登录业务

1. 静态组件完成
2. 书写API（换成真实接口）
3. axios二次封装
4. 换成真实的接口之后需要解决代理跨域问题



=======
### 接口文档地址

http://39.98.123.211:8170/swagger-ui.html

http://39.98.123.211:8216/swagger-ui.html

### 1、什么是后台管理系统？

在前面的课程中，我们已经开发了【尚品汇电商平台】，这个项目主要针对的是用户（客户），可以让用户在平台中购买产品。



前台项目当中的数据来源于卖家（公司），但是需要注意的是，卖家他不会数据库操作，对于卖家而言，需要吧产品的信息上传到服务器，写入数据库。



后台管理系统：可以让用户通过一个可视化工具实现对于数据库进行增删改查等操作。

而且需要注意，根据不同的角色（老板、员工），看到的、操作内容是不同的。



### 2、模板介绍

简洁版：https://github.com/PanJiaChen/vue-admin-template

加强版：https://github.com/PanJiaChen/vue-element-admin



```
build：
	---	index.js webpack配置文件【很少修改这个文件】。
	
mock：
	---	mock(模拟)数据的文件【模拟一些假的数据，mockjs实现的】，实际开发时使用的是真实的接口，故不用理会。
	
node_modules：
	---	项目依赖的文件
	
pubic：
	---	icon图标，静态页面，pubic文件夹会放置一些静态资源，而且项目在打包时webpack不会编译该文件夹中的内容，会原封不动的打包到dist文件中。
	
src：
	--- 程序员源代码的地方
	--- api文件夹：涉及到请求相关
	--- assess文件夹：里面放置一些静态资源（一般共享的），在webpack打包时会进行编译
	--- components文件夹：一般仿制的是非路由组件或全局组件
	--- icons文件夹：防止了一些svg矢量图
	--- layout文件夹：里面放置了一些组件与混入
	--- router文件夹：与路由相关
	--- store文件夹：与vuex相关
	--- style文件夹：与样式相关的
	--- utils文件夹：request.js是axios二次封装文件
	--- views文件夹：里面放置的是路由组件
	
App.vue：
	根组件
	
main.js：
	入口文件
	
permission.js：
	与导航守卫相关
	
settings.js：
	详谬的配置项目文件

```



### 3、完成登录业务

1. 静态组件完成。
2. 书写API（换成真实接口）。
3. axios二次封装。
4. 换成真实的接口之后需要解决代理跨域问题。



### 4、退出登录

将`layout`组件中退出登录模块的名称改为汉字。



### 5、项目路由的搭建

1. 将原来的文件与路由都删除掉。
2. 创建一级页面商品管理，二级页面商品管理、平台属性管理、spu管理、sku管理四个子页面，并在router中添加对应的路由。



### 6、完成品牌管理页面静态组件

1. 页面头部：创建element-ui的添加按钮，未写方法。
2. 创建table列表与表头属性配置。
3. 创建分页器与基本属性配置。



### 7、完成品牌管理列表的展示

1. 在api中配置接口信息。
2. 将api接口挂载到Vue实例上，使其在任意组件都可以通过`this.$API`访问到这个api对象。
3. 在品牌管理（tradeMark.vue）页面调用接口获取数据，并使列表数据在页面展示。
4. 编辑分页器可以让数据变化。



### 8、添加与修改品牌的静态组件

1. 添加与修改品牌是同一个组件`el-dialog`。
2. 打开对话框的方法用同一个，用是否存在品牌id来判断为添加与编辑。
3. 对话框内容为品牌名称、上传logo，组件为`el-input`与`el-upload`。

静态组件功能完成。



### 9、完成添加品牌功能

1. 书写相关的api接口信息。
   1. 添加与新增接口信息写在同一个接口上，通过是否存在id判断是编辑还是添加
2. 前台判断收集数据，给服务器提交数据（发请求）。



### 10、完成品牌修改功能

品牌添加和品牌修改功能

```js
// 打开对话框
    showDialog(row) {
      this.title = row.id ? "修改品牌" : "添加品牌";
      if (this.title == "添加品牌") {
        this.form = { tmName: "", logoUrl: "" }; // 清除数据
      } else {
        this.form = { ...row }; // 浅拷贝, 修改数据不会影响原数据
      }
      this.dialogFormVisible = true; // 显示对话框
    },
      
     // 提交表单
    async handleSubmit() {
      let res = await this.$API.tradeMark.addOrUpdateTradeMark(this.form);
      if (res.code == 200) {
        this.$message({
          message: this.form.id ? "修改品牌成功" : "添加品牌成功",
          type: "success",
        });
        this.dialogFormVisible = false;
        this.getPageList();
      }
    },
```





### 11、表单校验功能

element-UI 提供表单验证功能（自定义校验规则---重点）

```js
rules: {
        tmName: [
          { required: true, message: "请输入品牌名称", trigger: "blur" },
          {
            min: 2,
            max: 10,
            message: "品牌名称长度是2-10个文字",
            trigger: "change",
          },
        ],
        logoUrl: [{ required: true, message: "请选择图片", trigger: "change" }],
      },
```



```js
// 提交表单
    async handleSubmit() {
    // 校验
      this.$refs.form.validate(async (valid) => {
        if (valid) {
          this.loading = true; // 显示loading
          let res = await this.$API.tradeMark.addOrUpdateTradeMark(this.form);
          if (res.code == 200) {
            this.$message({
              message: this.form.id ? "修改品牌成功" : "添加品牌成功",
              type: "success",
            });
            this.dialogFormVisible = false;
            this.getPageList();
          }
        } else {
          return false;
        }
      });
    },
```





### 12、删除品牌的操作

```vue
<template>
// 气泡框组件
              <el-popconfirm
                :title="`确定删除${row.tmName}吗？`"
                confirmButtonText="好的"
                cancelButtonText="不用了"
                @onConfirm="handleDelete(row)"
              >
                <el-button
                  slot="reference"
                  type="danger"
                  icon="el-icon-delete"
                  size="mini"
                  >删除</el-button
                >
              </el-popconfirm>
            </template>
```

```js
 // 删除
    async handleDelete(row) {
      console.log("删除", row);
      let res = await this.$API.tradeMark.removeProduct(row.id);
      this.loading = true; // 显示loading
      console.log("删除res", res);
      if (res.code == 200) {
        this.$message({ type: "success", message: "删除成功" });
        this.getPageList();
      }
    },
```



### 13、平台属性管理的三级联动静态组件

分两部分，上面是三级分类的筛选，下面是由表格展示的数据



### 16、获取平台属性数据与展示平台属性

根据三级联动选择的内容获取相应的数据，并在页面展示



### 17、添加属性与修改属性静态组件





### 18、手机平台属性的操作

1. 属性名称
2. 属性值列表



注意：不要在data中手机三级分类 id

因为对象存储数据是无序的
